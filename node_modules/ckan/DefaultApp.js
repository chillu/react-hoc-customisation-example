import React from 'react';
import { render } from 'react-dom';
import { ApolloProvider } from 'react-apollo';
import ApolloClient from 'apollo-boost';
import withCkan from 'ckan/lib/withCkan';
import GriddleContainer from 'ckan/containers/GriddleContainer';

const client = new ApolloClient({
  uri: '/graphql'
});

const dataSourceId = 99; // From request params etc

const CkanGriddleContainer = withCkan(
  GriddleContainer,
  { dataSourceId }
);

const App = () => (
  <ApolloProvider client={client}>
    <CkanGriddleContainer />
  </ApolloProvider>
);

render(<App />, document.getElementById('root'));
